<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="7.28_work_2"><meta name="keywords" content="work"><meta name="author" content="John Doe,undefined"><meta name="copyright" content="John Doe"><title>7.28_work_2 | Hexo</title><link rel="shortcut icon" href="/melody-favicon.ico"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@latest/dist/reveal.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@latest/dist/reset.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@latest/dist/theme/black.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@latest/plugin/highlight/monokai.css"><meta name="generator" content="Hexo 7.3.0"></head><body><div class="reveal"><div class="slides"><section data-markdown data-separator="---" data-separator-vertical="--" data-charset="utf-8"><script type="text/template">
# CentOS 8 虚拟机创建与配置

## VMWare创建CentOS虚拟机

首先创建虚拟机，这里选择Workstation 16.x，也可以选择更低版本15或12。高版本的Workstation可能不适配低版本的Workstation，可以选择低版本兼容其他版本的VMWare。

![image-20250728164252884](https://cdn.jsdelivr.net/gh/wickt42/PicGo.img@main/img/20250728205512700.png)

选择稍后安装操作系统

![image-20250728165320491](https://cdn.jsdelivr.net/gh/wickt42/PicGo.img@main/img/20250728205505909.png)

选择CentOS 8 64位

![image-20250728165700085](https://cdn.jsdelivr.net/gh/wickt42/PicGo.img@main/img/20250728205500214.png)

自己填写路径与虚拟机名称（尽量别放在C盘）

![image-20250728170123338](https://cdn.jsdelivr.net/gh/wickt42/PicGo.img@main/img/20250728205321939.png)

一个处理加上两个内核对于虚拟机来说够用了

![image-20250728170533191](https://cdn.jsdelivr.net/gh/wickt42/PicGo.img@main/img/20250728205316178.png)

内存设置2G也行，这里设置4G

![image-20250728170752032](https://cdn.jsdelivr.net/gh/wickt42/PicGo.img@main/img/20250728205309316.png)

选择NAT模式（可以联网）

![image-20250728172125658](https://cdn.jsdelivr.net/gh/wickt42/PicGo.img@main/img/20250728205212823.png)

下面两个选择推荐即可

![](https://cdn.jsdelivr.net/gh/wickt42/PicGo.img@main/img/20250728205147074.png)

![image-20250728172156548](https://cdn.jsdelivr.net/gh/wickt42/PicGo.img@main/img/20250728205147074.png)

创建新虚拟磁盘

![image-20250728172214319](https://cdn.jsdelivr.net/gh/wickt42/PicGo.img@main/img/20250728205135269.png)

这里将虚拟磁盘存储为单个文件方便移动，分配了40G磁盘大小应对后续实验

![image-20250728172241447](https://cdn.jsdelivr.net/gh/wickt42/PicGo.img@main/img/20250728204942298.png)

本次实验需要两块网卡，这里再添加一个网络适配器

![image-20250728172435983](https://cdn.jsdelivr.net/gh/wickt42/PicGo.img@main/img/20250728204932656.png)

点击完成，最后在虚拟机设置界面选择CentOS的ISO映像即可

![image-20250728172545813](https://cdn.jsdelivr.net/gh/wickt42/PicGo.img@main/img/20250728204925069.png)

至此CentOS 8虚拟机的基础创建完成

## CentOS 8初始化配置设置

先打开刚刚创建的虚拟机，选择第一个Install CentOS Linux 8

![image-20250728173526552](https://cdn.jsdelivr.net/gh/wickt42/PicGo.img@main/img/20250728204834424.png)

选择简体中文

![image-20250728190918732](https://cdn.jsdelivr.net/gh/wickt42/PicGo.img@main/img/20250728204824801.png)

接下来对这四个选项进行操作，选择上海时区

![image-20250728192119186](https://cdn.jsdelivr.net/gh/wickt42/PicGo.img@main/img/20250728204815323.png)

安装环境额外软件[传统UNIX兼容性]和[开发工具]

![image-20250728191000485](https://cdn.jsdelivr.net/gh/wickt42/PicGo.img@main/img/20250728204803935.png)

选择本地标准磁盘

![image-20250728191156405](https://cdn.jsdelivr.net/gh/wickt42/PicGo.img@main/img/20250728204756639.png)

启动网卡

![image-20250728192101205](https://cdn.jsdelivr.net/gh/wickt42/PicGo.img@main/img/20250728204737320.png)

然后点击开始安装

![image-20250728191249923](https://cdn.jsdelivr.net/gh/wickt42/PicGo.img@main/img/20250728204728310.png)

自己创建root密码和用户

![image-20250728191451680](https://cdn.jsdelivr.net/gh/wickt42/PicGo.img@main/img/20250728210316065.png)

然后静等安装完成

## CentOS 8系统基础配置

### 防火墙配置

首先查看防火墙状态

```bash
systemctl status firewalld.service
```

![image-20250728193328430](https://cdn.jsdelivr.net/gh/wickt42/PicGo.img@main/img/20250728210315062.png)

先临时关闭防火墙

```bash
systemctl stop firewalld.service
```

![image-20250728193435626](https://cdn.jsdelivr.net/gh/wickt42/PicGo.img@main/img/20250728210319907.png)

关闭防火墙后设置防火墙永久关闭

```bash
systemctl disable firewalld.service
```

![image-20250728193548041](https://cdn.jsdelivr.net/gh/wickt42/PicGo.img@main/img/20250728210316046.png)

### 设置SELinux

```bash
vim /etc/selinux/config
```

![image-20250728194024752](https://cdn.jsdelivr.net/gh/wickt42/PicGo.img@main/img/20250728210314027.png)

设置SELINUX=enforcing为=>SELINUX=permissive，将规则由严格改为标准

### 关闭虚拟网卡

```bash
systemctl disable libvirtd.service		#关闭虚拟网卡
systemctl status libvirtd.service		#查看网卡状态
```

![image-20250728194509654](https://cdn.jsdelivr.net/gh/wickt42/PicGo.img@main/img/20250728204552650.png)

### 换源

修改镜像源，将mirrorlist那一段代码使用#注释，取消baseurl代码的注释，将后面的网址粘贴为https://mirrors.aliyun.com/centos-vault/8.5.2111/extras/$basearch/os/ 

```
vim /etc/yum.repos.d/CentOS-Base.repo 
vim /etc/yum.repos.d/CentOS-AppStream.repo 
vim /etc/yum.repos.d/CentOS-Extras.repo 
```

![image-20250728194833703](https://cdn.jsdelivr.net/gh/wickt42/PicGo.img@main/img/20250728210317323.png)

修改完成后保存退出，输入

```
systemctl poweroff		#关闭计算机
```

在关机状态下为虚拟机拍摄快照
</script></section></div></div><script src="https://cdn.jsdelivr.net/npm/reveal.js@latest/dist/reveal.js"></script><script src="https://cdn.jsdelivr.net/npm/reveal.js@latest/plugin/zoom/zoom.js"></script><script src="https://cdn.jsdelivr.net/npm/reveal.js@latest/plugin/search/search.js"></script><script src="https://cdn.jsdelivr.net/npm/reveal.js@latest/plugin/notes/notes.js"></script><script src="https://cdn.jsdelivr.net/npm/reveal.js@latest/plugin/math/math.js"></script><script src="https://cdn.jsdelivr.net/npm/reveal.js@latest/plugin/markdown/markdown.js"></script><script src="https://cdn.jsdelivr.net/npm/reveal.js@latest/plugin/highlight/highlight.js"></script><script>Reveal.initialize({
  mouseWheel: false,
  transition: 'slide',
  transitionSpeed: 'default',
  parallaxBackgroundImage: '',
  parallaxBackgroundSize: '',
  parallaxBackgroundHorizontal: '',
  parallaxBackgroundVertical: '',
  autoSlide: false,
  loop: false,
  controlsLayout: 'bottom-right', // Determines where controls appear, "edges" or "bottom-right"
  controlsBackArrows: 'faded',
  progress: true,
  showNotes: false,
  autoPlayMedia: false,
  backgroundTransition: 'fade',
  markdown: {
    smartypants: true
  },
  plugins: [
  RevealMarkdown,
  // Markdown
  RevealHighlight,
  // Search
  RevealSearch,
  // Speaker notes
  RevealNotes,
  // Zoom in and out with Alt+click
  RevealZoom,
  // MathJax
  RevealMath
  ]
});</script></body></html>